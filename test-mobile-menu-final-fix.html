<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>移动端菜单最终修复测试</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0B4D3E',
                        'primary': '#1B5E20',
                        'accent': '#E63946',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --primary-dark: #0B4D3E;
            --white: #FFFFFF;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 24px;
            cursor: pointer;
            padding: 5px 10px;
            z-index: 110;
        }

        /* Mobile menu active state */
        #mobile-nav-drawer.active {
            left: 0 !important;
        }

        /* Menu overlay active state */
        .menu-overlay.active {
            opacity: 1 !important;
            visibility: visible !important;
        }

        /* 移动端核心字体样式 - 参考Archibucks规范 */
        @media (max-width: 768px) {

            /* 全局字体设置 */
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
                font-size: 16px;
                line-height: 1.6;
            }

            .mobile-menu-btn {
                display: block;
            }

            .nav-links {
                position: fixed;
                top: 0;
                left: -100%;
                width: 85%;
                max-width: 320px;
                height: 100vh;
                background-color: var(--primary-dark);
                flex-direction: column;
                padding: 80px 25px 30px;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 2px 0 15px rgba(0, 0, 0, 0.2);
                z-index: 105;
            }

            .nav-links.active {
                left: 0;
            }

            .nav-links li {
                margin: 0 0 12px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-links li:last-child {
                border-bottom: none;
            }

            /* 移动端菜单链接样式 - 覆盖Tailwind */
            #mobile-nav-drawer ul li a {
                font-size: 16px !important;
                padding: 10px 12px !important;
                line-height: 1.4 !important;
                display: block !important;
            }

            /* 移动端认证按钮样式 */
            .auth-links-mobile a {
                font-size: 16px !important;
                line-height: 1.4 !important;
                padding: 10px 12px !important;
                display: block !important;
            }

            .menu-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 104;
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
            }

            .menu-overlay.active {
                opacity: 1;
                visibility: visible;
            }
        }

        /* Test info styles */
        .test-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .test-banner h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .test-info {
            background: #fff;
            padding: 30px;
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .test-info h2 {
            color: #0B4D3E;
            margin-bottom: 15px;
        }

        .expected-values {
            background: #f0f9ff;
            border-left: 4px solid #0284c7;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .expected-values code {
            background: #e0f2fe;
            padding: 2px 8px;
            border-radius: 3px;
            font-family: monospace;
            color: #0c4a6e;
        }

        .viewport-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #0B4D3E;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 14px;
        }

        .viewport-indicator .width {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-primary-dark sticky top-0 z-[100] shadow-lg">
        <div class="container mx-auto px-5 max-w-[1200px]">
            <nav class="flex justify-between items-center py-[15px]">
                <a href="#" class="flex items-center">
                    <div class="text-white text-[22px] font-bold tracking-wide">GIIP</div>
                </a>
                <div class="hidden md:flex items-center">
                    <ul class="nav-links flex list-none">
                        <li class="ml-[30px]"><a href="#" class="text-white">Home</a></li>
                        <li class="ml-[30px]"><a href="#" class="text-white">News</a></li>
                        <li class="ml-[30px]"><a href="#" class="text-white">Events</a></li>
                    </ul>
                </div>
                <button class="mobile-menu-btn md:hidden" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="menu-overlay fixed top-0 left-0 right-0 bottom-0 bg-black/50 z-[104] opacity-0 invisible"></div>

    <!-- Mobile Navigation Drawer -->
    <nav id="mobile-nav-drawer"
        class="nav-links md:hidden fixed top-0 -left-full w-[85%] max-w-[320px] h-screen bg-primary-dark flex-col pt-20 px-[25px] pb-[30px] z-[105]">
        <ul class="list-none">
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">Home</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">News</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">Upcoming Events</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">Past Conferences</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">Highlights</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">About Us</a>
            </li>
            <li class="mb-[12px] border-b border-white/10 last:border-b-0">
                <a href="#" class="text-white no-underline block">Contact Us</a>
            </li>
        </ul>
        <div class="auth-links-mobile mt-6 pt-6 border-t border-white/10">
            <a href="#" class="text-white no-underline py-3 px-3 block mb-3 border border-white/30 rounded-md text-center">Login</a>
            <a href="#" class="bg-accent text-white no-underline py-3 px-3 block rounded-md text-center">Register</a>
        </div>
    </nav>

    <!-- Test Banner -->
    <div class="test-banner">
        <h1>📱 移动端菜单最终修复测试</h1>
        <p>验证字体大小 16px 和行间距 1.4 是否正确应用</p>
    </div>

    <!-- Test Info -->
    <div class="test-info">
        <h2>🎯 测试说明</h2>
        <p><strong>问题：</strong>移动端菜单的字体大小和行间距没有按预期显示</p>
        <p><strong>解决方案：</strong>使用 <code>!important</code> 覆盖 Tailwind CSS 的样式</p>
        
        <div class="expected-values">
            <h3 style="margin-bottom: 15px; color: #0c4a6e;">✅ 预期样式值</h3>
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 10px;">📏 <strong>font-size:</strong> <code>16px</code></li>
                <li style="margin-bottom: 10px;">📐 <strong>line-height:</strong> <code>1.4</code> (计算值: 22.4px)</li>
                <li style="margin-bottom: 10px;">📦 <strong>padding:</strong> <code>10px 12px</code></li>
                <li style="margin-bottom: 10px;">🎨 <strong>display:</strong> <code>block</code></li>
            </ul>
        </div>

        <h3 style="margin-top: 30px; margin-bottom: 15px;">📋 测试步骤</h3>
        <ol style="margin-left: 20px;">
            <li style="margin-bottom: 10px;">将浏览器窗口调整到移动端宽度（≤768px）</li>
            <li style="margin-bottom: 10px;">点击右上角的汉堡菜单按钮（☰）</li>
            <li style="margin-bottom: 10px;">右键点击任意菜单项 → 选择"检查"</li>
            <li style="margin-bottom: 10px;">在开发者工具中查看 <strong>Computed</strong> 标签页</li>
            <li style="margin-bottom: 10px;">验证以下值：
                <ul style="margin-left: 20px; margin-top: 5px;">
                    <li>font-size: 16px</li>
                    <li>line-height: 22.4px</li>
                    <li>padding: 10px 12px</li>
                </ul>
            </li>
        </ol>

        <h3 style="margin-top: 30px; margin-bottom: 15px;">🔍 控制台检查</h3>
        <p>打开控制台（F12），点击菜单按钮后会自动输出计算后的样式值。</p>
    </div>

    <!-- Viewport Indicator -->
    <div class="viewport-indicator">
        <div class="width" id="viewport-width">-</div>
        <div id="viewport-status">-</div>
    </div>

    <script>
        // Mobile Menu Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const navLinks = document.querySelector('#mobile-nav-drawer');
        const menuOverlay = document.querySelector('.menu-overlay');
        const menuItems = document.querySelectorAll('#mobile-nav-drawer a');

        if (mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                if (navLinks) {
                    navLinks.classList.add('active');
                }
                if (menuOverlay) {
                    menuOverlay.classList.add('active');
                }
                document.body.style.overflow = 'hidden';
                
                // 自动检查样式
                setTimeout(() => {
                    const firstLink = document.querySelector('#mobile-nav-drawer ul li a');
                    if (firstLink) {
                        const styles = window.getComputedStyle(firstLink);
                        console.log('========================================');
                        console.log('📱 移动端菜单项计算后的样式');
                        console.log('========================================');
                        console.log('font-size:', styles.fontSize);
                        console.log('line-height:', styles.lineHeight);
                        console.log('padding:', styles.padding);
                        console.log('display:', styles.display);
                        console.log('font-family:', styles.fontFamily);
                        console.log('========================================');
                        
                        // 验证
                        const fontSize = parseFloat(styles.fontSize);
                        const lineHeight = parseFloat(styles.lineHeight);
                        const expectedLineHeight = fontSize * 1.4;
                        
                        console.log('✅ 验证结果:');
                        console.log('font-size 是否为 16px?', fontSize === 16 ? '✓ 正确' : '✗ 错误 (实际: ' + fontSize + 'px)');
                        console.log('line-height 是否为 1.4?', Math.abs(lineHeight - expectedLineHeight) < 1 ? '✓ 正确' : '✗ 错误 (实际: ' + lineHeight + 'px)');
                        console.log('========================================');
                    }
                }, 100);
            });
        }

        function closeMenu() {
            if (navLinks) {
                navLinks.classList.remove('active');
            }
            if (menuOverlay) {
                menuOverlay.classList.remove('active');
            }
            document.body.style.overflow = '';
        }

        if (menuOverlay) {
            menuOverlay.addEventListener('click', closeMenu);
        }

        menuItems.forEach(item => {
            item.addEventListener('click', closeMenu);
        });

        // Viewport info
        function updateViewportInfo() {
            const width = window.innerWidth;
            document.getElementById('viewport-width').textContent = width + 'px';
            document.getElementById('viewport-status').textContent = width <= 768 ? '移动端模式' : '桌面端模式';
        }

        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);
    </script>
</body>
</html>
