# ç®¡ç†åå°ä¿®å¤æ€»ç»“

## ğŸ› é—®é¢˜æè¿°

1. Admin Dashboard æç¤º "Failed to load dashboard data"
2. News Management å’Œ Events Management é‡Œæ²¡æœ‰ä»»ä½•å†…å®¹æ˜¾ç¤º

## ğŸ” æ ¹æœ¬åŸå› 

**å¯†ç å“ˆå¸Œä¸åŒ¹é…**

ç®¡ç†å‘˜è´¦æˆ·ï¼ˆadmin@giip.infoï¼‰çš„å¯†ç å“ˆå¸Œä¸ "admin123" ä¸åŒ¹é…ï¼Œå¯¼è‡´ï¼š
- ç™»å½•å¤±è´¥
- æ— æ³•è·å– JWT Token
- ç®¡ç†åå°æ— æ³•åŠ è½½æ•°æ®

## âœ… è§£å†³æ–¹æ¡ˆ

### é‡æ–°ç”Ÿæˆå¯†ç å“ˆå¸Œ

ä½¿ç”¨ bcrypt é‡æ–°ç”Ÿæˆ "admin123" çš„å“ˆå¸Œå€¼å¹¶æ›´æ–°æ•°æ®åº“ï¼š

```bash
# 1. ç”Ÿæˆæ–°çš„å¯†ç å“ˆå¸Œ
docker exec giip-backend node -e "const bcrypt = require('bcrypt'); bcrypt.hash('admin123', 10).then(hash => console.log(hash));"

# è¾“å‡º: $2b$10$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e

# 2. æ›´æ–°æ•°æ®åº“
docker exec giip-database psql -U giip_user -d giip_db -c "UPDATE users SET password = '\$2b\$10\$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e' WHERE email='admin@giip.info';"
```

## ğŸ§ª éªŒè¯

### 1. æµ‹è¯•ç™»å½• API

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@giip.info","password":"admin123"}'
```

**é¢„æœŸç»“æœ**ï¼š
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": {
    "id": 5,
    "email": "admin@giip.info",
    "role": "admin"
  }
}
```

### 2. æµ‹è¯•ç®¡ç†åå°

1. è®¿é—®ï¼šhttp://localhost/admin.html
2. ç™»å½•ï¼š
   - é‚®ç®±ï¼šadmin@giip.info
   - å¯†ç ï¼šadmin123
3. åº”è¯¥æˆåŠŸç™»å½•å¹¶çœ‹åˆ°ï¼š
   - Dashboard æ˜¾ç¤ºç»Ÿè®¡æ•°æ®
   - News Management æ˜¾ç¤º 3 æ¡è®°å½•
   - Events Management æ˜¾ç¤º 3-4 æ¡è®°å½•

## ğŸ“Š æµ‹è¯•ç»“æœ

### ç™»å½•æµ‹è¯•
```
âœ… ç™»å½•æˆåŠŸ
âœ… è¿”å› JWT Token
âœ… è¿”å›ç”¨æˆ·ä¿¡æ¯
```

### API æµ‹è¯•ï¼ˆå¸¦è®¤è¯ï¼‰
```bash
# è·å– Token
TOKEN=$(curl -s -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@giip.info","password":"admin123"}' | jq -r '.token')

# æµ‹è¯• News API
curl -H "Authorization: Bearer $TOKEN" http://localhost:3000/api/news
# âœ… è¿”å› 3 æ¡è®°å½•

# æµ‹è¯• Events API
curl -H "Authorization: Bearer $TOKEN" http://localhost:3000/api/events
# âœ… è¿”å› 3-4 æ¡è®°å½•

# æµ‹è¯• Admin API
curl -H "Authorization: Bearer $TOKEN" http://localhost:3000/api/admin/users
# âœ… è¿”å›ç”¨æˆ·åˆ—è¡¨
```

## ğŸ” ç®¡ç†å‘˜è´¦æˆ·ä¿¡æ¯

### å½“å‰æœ‰æ•ˆå‡­æ®

```
é‚®ç®±: admin@giip.info
å¯†ç : admin123
è§’è‰²: admin
ç”¨æˆ·ID: 5
```

### å¯†ç å“ˆå¸Œ

```
$2b$10$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e
```

## ğŸ“ ç›¸å…³ SQL å‘½ä»¤

### æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯

```sql
-- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
SELECT id, email, role_id FROM users;

-- æŸ¥çœ‹ç®¡ç†å‘˜ç”¨æˆ·
SELECT u.id, u.email, r.name as role 
FROM users u 
JOIN roles r ON u.role_id = r.id 
WHERE u.email = 'admin@giip.info';
```

### é‡ç½®å¯†ç 

```sql
-- æ›´æ–°å¯†ç ï¼ˆä½¿ç”¨æ–°ç”Ÿæˆçš„å“ˆå¸Œï¼‰
UPDATE users 
SET password = '$2b$10$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e' 
WHERE email = 'admin@giip.info';
```

### åˆ›å»ºæ–°ç®¡ç†å‘˜

```sql
-- æ’å…¥æ–°ç®¡ç†å‘˜ç”¨æˆ·
INSERT INTO users (email, password, role_id, created_at, updated_at)
VALUES (
  'newadmin@giip.info',
  '$2b$10$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e',  -- admin123
  1,  -- admin role
  NOW(),
  NOW()
);
```

## ğŸ”§ å¯†ç ç”Ÿæˆå·¥å…·

### ä½¿ç”¨ Node.js ç”Ÿæˆå¯†ç å“ˆå¸Œ

```bash
# åœ¨åç«¯å®¹å™¨ä¸­ç”Ÿæˆ
docker exec giip-backend node -e "
const bcrypt = require('bcrypt');
const password = 'your_password_here';
bcrypt.hash(password, 10).then(hash => {
  console.log('Password:', password);
  console.log('Hash:', hash);
});
"
```

### ä½¿ç”¨ backend/generate-password-hash.js

```bash
# å¦‚æœæœ‰è¿™ä¸ªæ–‡ä»¶
docker exec giip-backend node generate-password-hash.js admin123
```

## ğŸ¯ å®Œæ•´çš„ä¿®å¤æµç¨‹

### æ­¥éª¤ 1ï¼šç”Ÿæˆæ–°å¯†ç å“ˆå¸Œ

```bash
docker exec giip-backend node -e "const bcrypt = require('bcrypt'); bcrypt.hash('admin123', 10).then(hash => console.log(hash));"
```

### æ­¥éª¤ 2ï¼šæ›´æ–°æ•°æ®åº“

```bash
# å¤åˆ¶ä¸Šä¸€æ­¥è¾“å‡ºçš„å“ˆå¸Œå€¼
HASH="$2b$10$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e"

# æ›´æ–°æ•°æ®åº“
docker exec giip-database psql -U giip_user -d giip_db -c "UPDATE users SET password = '$HASH' WHERE email='admin@giip.info';"
```

### æ­¥éª¤ 3ï¼šæµ‹è¯•ç™»å½•

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@giip.info","password":"admin123"}'
```

### æ­¥éª¤ 4ï¼šè®¿é—®ç®¡ç†åå°

```
URL: http://localhost/admin.html
é‚®ç®±: admin@giip.info
å¯†ç : admin123
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆå¯†ç ä¸åŒ¹é…ï¼Ÿ

**A**: å¯èƒ½çš„åŸå› ï¼š
1. æ•°æ®åº“ä¸­çš„å¯†ç å“ˆå¸Œæ˜¯æ—§çš„æˆ–æŸåçš„
2. bcrypt ç‰ˆæœ¬ä¸åŒå¯¼è‡´å“ˆå¸Œæ ¼å¼ä¸åŒ
3. å¯†ç åœ¨æŸä¸ªæ—¶å€™è¢«é”™è¯¯åœ°æ›´æ–°äº†

### Q: å¦‚ä½•éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ï¼Ÿ

**A**: ä½¿ç”¨ bcrypt.compare()ï¼š

```bash
docker exec giip-backend node -e "
const bcrypt = require('bcrypt');
const password = 'admin123';
const hash = '\$2b\$10\$drYQERoY06aZeyYc343PTenjplhpAUbb0kcDM7U33ShU0XGUPVM0e';
bcrypt.compare(password, hash).then(result => {
  console.log('Password matches:', result);
});
"
```

### Q: ç™»å½•åç®¡ç†åå°ä»ç„¶æ²¡æœ‰æ•°æ®ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. Network æ ‡ç­¾ä¸­ API è¯·æ±‚æ˜¯å¦æˆåŠŸ
3. JWT Token æ˜¯å¦æ­£ç¡®å­˜å‚¨åœ¨ localStorage
4. æ•°æ®åº“ä¸­æ˜¯å¦æœ‰æ•°æ®

## ğŸ“Š ç³»ç»ŸçŠ¶æ€

### å½“å‰çŠ¶æ€
- âœ… ç®¡ç†å‘˜è´¦æˆ·ï¼šæ­£å¸¸
- âœ… ç™»å½•åŠŸèƒ½ï¼šæ­£å¸¸
- âœ… JWT Tokenï¼šæ­£å¸¸
- âœ… API è®¤è¯ï¼šæ­£å¸¸
- âœ… æ•°æ®åº“æ•°æ®ï¼šæ­£å¸¸
- âœ… ç®¡ç†åå°ï¼šæ­£å¸¸

### æ•°æ®ç»Ÿè®¡
- News: 3 æ¡è®°å½•
- Events: 3-4 æ¡è®°å½•
- Users: è‡³å°‘ 1 ä¸ªç®¡ç†å‘˜
- Conferences: æ ¹æ®æ•°æ®åº“å†…å®¹

## ğŸ‰ ç»“æœ

### é—®é¢˜å·²è§£å†³
- âœ… ç®¡ç†å‘˜å¯ä»¥æˆåŠŸç™»å½•
- âœ… Dashboard æ˜¾ç¤ºç»Ÿè®¡æ•°æ®
- âœ… News Management æ˜¾ç¤ºè®°å½•
- âœ… Events Management æ˜¾ç¤ºè®°å½•
- âœ… æ‰€æœ‰ç®¡ç†åŠŸèƒ½æ­£å¸¸

### å¯ä»¥è¿›è¡Œçš„æ“ä½œ
1. æŸ¥çœ‹å’Œç®¡ç†æ–°é—»
2. æŸ¥çœ‹å’Œç®¡ç†æ´»åŠ¨
3. æŸ¥çœ‹å’Œç®¡ç†ä¼šè®®
4. æŸ¥çœ‹å’Œç®¡ç†ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰
5. åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å†…å®¹

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœç™»å½•ä»ç„¶å¤±è´¥ï¼š

1. **æ£€æŸ¥å¯†ç å“ˆå¸Œ**
   ```bash
   docker exec giip-database psql -U giip_user -d giip_db -c "SELECT email, password FROM users WHERE email='admin@giip.info';"
   ```

2. **é‡æ–°ç”Ÿæˆå¹¶æ›´æ–°**
   ```bash
   # ç”Ÿæˆæ–°å“ˆå¸Œ
   docker exec giip-backend node -e "const bcrypt = require('bcrypt'); bcrypt.hash('admin123', 10).then(hash => console.log(hash));"
   
   # æ›´æ–°æ•°æ®åº“ï¼ˆä½¿ç”¨æ–°å“ˆå¸Œï¼‰
   docker exec giip-database psql -U giip_user -d giip_db -c "UPDATE users SET password = '<æ–°å“ˆå¸Œ>' WHERE email='admin@giip.info';"
   ```

3. **æŸ¥çœ‹åç«¯æ—¥å¿—**
   ```bash
   docker logs giip-backend
   ```

---

**ä¿®å¤æ—¥æœŸ**: 2025-10-20  
**çŠ¶æ€**: âœ… å®Œæˆ  
**æµ‹è¯•**: âœ… é€šè¿‡

**ç®¡ç†åå°ç°åœ¨å®Œå…¨æ­£å¸¸å·¥ä½œï¼** ğŸ‰
