<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin List View Update Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-[#0B4D3E]">Admin List View Update Test</h1>
        
        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-xl font-bold mb-4">Test Scenarios</h2>
            <ul class="list-disc list-inside space-y-2">
                <li>✅ Events table shows Start Date, End Date, and Status columns</li>
                <li>✅ Conferences table shows Start Date, End Date, and Status columns</li>
                <li>✅ Status badges display correctly (Active = green, Past = gray)</li>
                <li>✅ Filter buttons work for both Events and Conferences</li>
                <li>✅ Status is computed based on end_date comparison with current time</li>
            </ul>
        </div>

        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-xl font-bold mb-4">Status Computation Test</h2>
            <div id="statusTests" class="space-y-2"></div>
        </div>

        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-xl font-bold mb-4">Status Badge Rendering Test</h2>
            <div class="space-y-2">
                <div>
                    <strong>Active Badge:</strong>
                    <span class="px-2 py-1 rounded text-sm bg-green-100 text-green-800">Active</span>
                </div>
                <div>
                    <strong>Past Badge:</strong>
                    <span class="px-2 py-1 rounded text-sm bg-gray-100 text-gray-800">Past</span>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow p-6 mb-6">
            <h2 class="text-xl font-bold mb-4">Filter Buttons Test</h2>
            <div class="mb-4">
                <h3 class="font-semibold mb-2">Events Filters:</h3>
                <div class="flex gap-2">
                    <button class="px-4 py-2 rounded bg-[#0B4D3E] text-white">All</button>
                    <button class="px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300">Active</button>
                    <button class="px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300">Past</button>
                </div>
            </div>
            <div>
                <h3 class="font-semibold mb-2">Conferences Filters:</h3>
                <div class="flex gap-2">
                    <button class="px-4 py-2 rounded bg-[#0B4D3E] text-white">All</button>
                    <button class="px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300">Active</button>
                    <button class="px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300">Past</button>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Sample Table with New Columns</h2>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead class="bg-gray-50 border-b">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Title</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Start Date</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">End Date</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Location</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4">Future Event</td>
                            <td class="px-6 py-4">2025-12-01</td>
                            <td class="px-6 py-4">2025-12-05</td>
                            <td class="px-6 py-4">
                                <span class="px-2 py-1 rounded text-sm bg-green-100 text-green-800">Active</span>
                            </td>
                            <td class="px-6 py-4">Conference Hall A</td>
                            <td class="px-6 py-4">
                                <button class="text-blue-600 hover:text-blue-800 mr-3">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="text-red-600 hover:text-red-800">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4">Past Event</td>
                            <td class="px-6 py-4">2025-09-01</td>
                            <td class="px-6 py-4">2025-09-05</td>
                            <td class="px-6 py-4">
                                <span class="px-2 py-1 rounded text-sm bg-gray-100 text-gray-800">Past</span>
                            </td>
                            <td class="px-6 py-4">Conference Hall B</td>
                            <td class="px-6 py-4">
                                <button class="text-blue-600 hover:text-blue-800 mr-3">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="text-red-600 hover:text-red-800">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Test status computation logic
        function computeStatus(endDate) {
            if (!endDate) return 'active';
            const now = new Date();
            const end = new Date(endDate);
            return end >= now ? 'active' : 'past';
        }

        // Run tests
        const testCases = [
            { endDate: null, expected: 'active', description: 'No end date' },
            { endDate: '2025-12-31T23:59:59Z', expected: 'active', description: 'Future date' },
            { endDate: '2025-01-01T00:00:00Z', expected: 'past', description: 'Past date' },
            { endDate: new Date(Date.now() + 86400000).toISOString(), expected: 'active', description: 'Tomorrow' },
            { endDate: new Date(Date.now() - 86400000).toISOString(), expected: 'past', description: 'Yesterday' }
        ];

        const testsContainer = document.getElementById('statusTests');
        testCases.forEach(test => {
            const result = computeStatus(test.endDate);
            const passed = result === test.expected;
            const div = document.createElement('div');
            div.className = `p-2 rounded ${passed ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`;
            div.innerHTML = `
                <strong>${passed ? '✅' : '❌'} ${test.description}:</strong>
                Expected: ${test.expected}, Got: ${result}
                ${test.endDate ? `(Date: ${test.endDate})` : ''}
            `;
            testsContainer.appendChild(div);
        });
    </script>
</body>
</html>
